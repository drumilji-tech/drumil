/* Table of Contents
–––––––––––––––––––––––––––––––––––––––––

  Variables
  Base Styles

  Modified Dash Styles
  Modified Plotly Styles
  Modified Dash Boostrap Component Styles

  Download Buttons
  Cards and Wrappers
  Sticky Header and Global Controls
  Chart Title and Controls
  Treemap and Subcharts
  Miscellany
  Media Queries

*/


/* Variables
–––––––––––––––––––––––––––––––––––––––––––––––––– */

:root {
  --header-height: 60px;
  --background-content: #020202;
  --text: #DFDFDF;
  
  --southernpower-red: #EB1B24;
  --southernpower-blue: #02BCF0;
  --southernpower-lightblue: #007CB8;
  --southernpower-green: #B3D237;

  --border-radius: 8px;
  --card-padding: 0.5rem;

  --spinner-bounding-box-width: 80px;
  --spinner-width: 16px;
  --spinner-period: 1s;
}


/* Base Styles
–––––––––––––––––––––––––––––––––––––––––––––––––– */

* {
  font-family: Oswald !important;
  font-weight: 300;
}

body {
  padding: 0;
  margin: 0;
  background-color: var(--background-content);
  color: var(--text);
}


/* Modified Dash Styles
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.dropdown-label {
  font-weight: 300 !important;
}

[data-dash-is-loading="true"]{
    animation-name: easeIn;
    animation-delay: 0.5s;
    animation-duration: 1s;
    animation-fill-mode: forwards;
    animation-timing-function: linear;
}
[data-dash-is-loading="true"] * {
    pointer-events: none !important;
}
@keyframes easeIn {
  0% {
    opacity: 1;
    cursor: wait;
  }
  100% {
    opacity: 0.3;
    cursor: wait;
  }
}

.dash-dropdown {
  color: #949494;
  background-color: #212121;
}
.dash-dropdown * {
  color: #949494;
  background-color: #212121;
}
.Select-menu-outer {
  color: red;
}
.Select div {
    background-color: #212121;
    cursor: pointer;
}
.Select-menu-outer div:hover {
    background-color: #292929;
}
.Select-value-label {
  color: var(--text) !important;
}

.rc-slider-track {
  background-color: var(--southernpower-blue);
}
.rc-slider-dot-active {
  background-color: var(--southernpower-blue);
  border-width: 0px;
}
.rc-slider-handle {
  background-color: var(--southernpower-blue);
  border-width: 0px;
}

/*
  Ensure that when you click in a dcc.Dropdown
  to open the contained menu, we don't see a white
  rectangle that appears inside the space where
  the selected values sit.
*/
.is-open>.Select-control {
  background-color: rgba(0,0,0,0) !important;
}

.tab {
  background-color: #171717 !important;
  color: white !important;
  opacity: 0.3;
  border-bottom: 0 solid black !important;
  border-top: 2px solid #171717 !important;
  border-left: 0 solid black !important;
  border-right: 0 solid black !important;
  transition: 0.2s !important;
}

.tab--selected {
 color: white !important;
 opacity: 1;
 border-top: 2px solid var(--southernpower-blue) !important;
}

.tab:hover {
  opacity: 1;
}

.tab-content {
  padding: 2rem;
}


/* Modified Plotly Styles
–––––––––––––––––––––––––––––––––––––––––––––––––– */

rect.rangeslider-mask-max {
  fill-opacity: 0.6 !important;
}
rect.rangeslider-mask-min {
  fill-opacity: 0.6 !important;
}


/* Modified Dash Boostrap Component Styles
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.navbar-brand {
  font-size: 2rem !important;
  font-weight: 300;
}

.container, .container-fluid, .container-lg, .container-md, .container-sm, .container-xl, .container-xxl {
  padding-left: 0;
  padding-right: 0;
}


/* Download Buttons
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.download-btn {
  background-color: var(--southernpower-lightblue);
  color: var(--text);
  border: 0px solid red;
  border-radius: 2px;
}
#download-temp-treemap-btn.download-btn {
  margin-right: 0.25rem;
  margin-bottom: 0.25rem;
}


/* Cards and Wrappers
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.wrap {
  background-color: #171717;
  border-radius: var(--border-radius);
}
.card {
  margin: 1rem;
  padding: var(--card-padding);
}
.preheader {
  position: sticky;
  z-index: 1000;
  top: 0;
  background-color: #171717;
  box-shadow: 0 0 15px rgba(0,0,0,0.6);
  padding: calc(2 * var(--card-padding)) calc(var(--card-padding) + 1rem);
  padding-bottom: 0;
}
.splash-page-card {
  margin-top: 2rem;
  font-size: 2rem;
  height: 15vh;
  line-height: 15vh;
  color: #A9A9AB;
  text-align: center;
  border: 1px solid #333336;
  background: radial-gradient(rgb(30,30,33), var(--background-content));
  border-radius: var(--border-radius);
  transition: 0.2s;
}
.splash-page-card:hover {
  color: #CBCBCD;
  border-color: #CBCBCD;
}


/* Sticky Header and Global Controls
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.header {
  height: var(--header-height);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-content: end;
}
.header div.logo-title-box {
  display: flex;
  flex: 0.6;
  flex-direction: row;
}

.header .logo-box {
  width: var(--header-height);
  height: var(--header-height);
  padding-right: 1rem;
}
.logo-box img {
  width: 100%;
  height: 100%;
}
.header .title-box {
  width: calc(100% - 60px);
  align-self: end;
}
.header div.dropdown-box {
  flex: 0.3;
  max-width: 200px;
}

.control-panel {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: end;
  margin-left: 0 !important;
  margin-right: 0 !important;
  padding-left: 0.25rem !important;
  padding-right: 0.25rem !important;
}
.control-panel div.component-dropdown-box {
  display: flex;
  flex-direction: column;
  width: 200px;
}
.control-panel div.date-rangeslider-box {
  display: flex;
  flex: 3;
  margin-left: 1rem;
}

#component-dropdown {
  width: 200px;
}
#date-rangeslider {
  width: 100%;
  padding-left: 0 !important;
  padding-right: 0 !important;
}


/* Page Navigation Links */
a.nav-link {
  background-color: #212121;
  color: var(--text);
  text-decoration: none !important;
  border-radius: var(--border-radius);
  padding: 0.25rem;
  transition: 0.1s;
}
a.nav-link.active {
  background-color: var(--southernpower-lightblue);
  display: block;
  color: var(--text);
}
a.nav-link:hover:not(.active) {
  background-color: #333333;
  display: block !important;
  color: var(--text);
}
a.nav-link:not(.active) {
  display: block;
  color: #999;
}
a.nav-link#performance-and-reliability {
  text-align: center;
}
a.nav-link#fault-analysis {
  text-align: center;
}

.navlink {
  font-size: 1.25rem;
  text-decoration: none !important;
  color: var(--text) !important;
  padding: 1rem;
  padding-bottom: 0;
}
.navitem.active {
  text-align: center !important;
}


/* Chart Title and Controls
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.title-and-controls {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}
.title-and-controls .chart-control {
  align-self: end;
}

.title-box .title {
  display: block;
  font-size: 2.65rem;
  padding: 0;
  margin: 0;
  font-weight: 500;
  transform: translateY(7px);
}
.chart-title {
  align-self: end;
}
.chart-title .title {
  font-size: 1.5rem;
  font-weight: 400;
}
.chart-title .subtitle {
  font-size: 1rem;
  font-weight: 100;
}

/*
  We add space to the left of the power performance
  metric radiobuttons (i.e. `#sort-by`). The reason
  for the space is when there is another inline
  component floating next to it.

  We want to maintain the visual spacing so each
  component is separated from its neighbor.
*/
#sort-by.right-floating-control {
  padding-left: 1em;
}
.right-floating-control {
  float: right;
}

.under-over-perform {
  display: block;
  float: right;
}

.acknowledged-pp-turbines {
  width: 700px;
}


/* Treemap and Subcharts
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.treemap-subcharts-container {
  display: flex;
  flex-direction: column;
  margin-bottom: 0 !important;
}

.is-open {
  opacity: 1;
  pointer-events: auto !important;
  visability: visible;
  display: auto;
}
.is-closed {
  visability: hidden;
  opacity: 0;
  pointer-events: none !important;
  display: none;
}

/*
  Since the heatmap (`#heatmap-box`) is absolutely
  positioned, it does not sit inside the cascade
  of CSS items; plainly, it doesn't push down
  anything below it.

  Thus, when the heatmap is on screen, we must add
  bottom margin to its parent container so that the
  parent does the adequete pushing.

  The amount of margin is proportional to the height
  of the heatmap.
*/
#heatmap-box, #heatmap-box2, #heatmap-box3 {
  position: absolute !important;
  padding: 0 !important;
  margin: 0 !important;
  background-color: #171717 !important;
  box-shadow: 0 0 var(--border-radius) rgba(0,0,0,1) !important;
  border-radius: var(--border-radius) !important;
  z-index: 100 !important;
}
#heatmap-box {
  width: calc(100% - 168px) !important;
  transform: translate(0, 80px) !important;
}
#heatmap-box2 {
  width: calc(100% - 168px - 25px) !important;
  transform: translate(40px, 135px) !important;
}
#heatmap-box3 {
  width: calc(100% - 168px) !important;
  transform: translate(0px, 50px) !important;
}

.bottom-margin {
  margin-bottom: 200px !important;
}
.bottom-margin2 {
  margin-bottom: 0 !important;
}
.bottom-margin3 {
  margin-bottom: 0 !important;
}


/* Miscellany
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.fault-control-box {
  display: flex;
  justify-content: end;
}

/*
  Make space above yaw chart to keep consistent
  with other title-chart spacings.
*/
.yaw-error-chart {
  margin-top: 1rem;
}

.metric-tooltip {
  max-width: 500px;
  white-space: normal;
  background-color: #171717;
  box-shadow: 0 0 15px rgba(0,0,0,0.6);
  padding: var(--card-padding);
  opacity: 0.9;
  border: 1px solid var(--text);
  color: var(--text);
  z-index: 10000;
}

.disabled {
  opacity: 0.3;
  cursor: not-allowed;
}
/* Disable pointer events until loading fully completes. */
.disabled * {
  pointer-events: none;
}


/* Media Queries
–––––––––––––––––––––––––––––––––––––––––––––––––– */

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes fadein {
    0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
}

._dash-loading-callback {
    border-radius: 50%;
    border-top: var(--spinner-width) solid var(--southernpower-red);
    border-bottom: var(--spinner-width) solid var(--southernpower-blue);
    border-left: var(--spinner-width) solid var(--southernpower-lightblue);
    border-right: var(--spinner-width) solid var(--southernpower-green);
    width: var(--spinner-bounding-box-width);
    height: var(--spinner-bounding-box-width);
    margin: 0;
    display: inline-block;
    position: fixed;
    top: calc(50% - var(--spinner-bounding-box-width) / 2);
    left: calc(50% - var(--spinner-bounding-box-width) / 2);
    opacity: 0;
    background-color: transparent;
    -webkit-animation: fadein 0.5s ease-in forwards, spin var(--spinner-period) infinite ease-in-out;
    animation: fadein 0.5s ease-in forwards, spin var(--spinner-period) infinite ease-in-out;
    animation-delay: 6s;
    z-index: 90000;
}
